<! DOCTYPE html>
<html>
<head>
	<title>Too Many Zimas?</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script type="text/javascript">
		var insults = [];

		$(document).ready(function() {
			initInsults()

			// too many click handler
			$("#too-many-btn").click(function() {
				var number = Number($("#zima-count").val())
				if (number === 0) {
					showResponse("giddy up, ya <b>maroon</b>")
				}
				else {
					showResponse("no such thing, ya <b>" + insults[getRandom(insults.length)] + "</b>")
				}
			})

			// donate click handler
			$("#donate-link").click(function() {
				showResponse("<b>you gullible</b>")
			})

			// enter key listener
			$("#zima-count").keypress(function(e) {
			    if(e.which == 13) {
			        $("#too-many-btn").click()
			    }
			})

			// block enter form submission
			$("form").on("keyup keypress", function(e) {
				var code = e.keyCode || e.which
				if (code  == 13) {               
					e.preventDefault()
					return false
				}
			})
		})

		function showResponse(text) {
			$("#response-lbl").empty().append(text)
		}

		function initInsults() {
			insults = [
				"dingus",
				"philanthropist",
				"john wilkes doof",
				"polyamorous relationship",
				"lynard skynard",
				"wheres waldo",
				"our lady peace",
				"nelson",
				"momento",
				"danny tanner",
				"s thing we all drew in school",
				"grimace",
				"morrissey"
			]
		}

		function getRandom(max) {
		  return Math.floor(Math.random() * max)
		}
	</script>
</head>
<body>
	<form>
		how many?
	  	<input type="number" id="zima-count" name="zimas" max="43766" step="1" />
	  	<button id="too-many-btn" type="button">too many?</button>
	  	<br/><br/>
	  	<span id="response-lbl"></span>
	  	<br/><br/>
	  	<a id="donate-link" href="#">Help Donate!</a>
	</form>
</body>
</html>
